## 题目：
Given an integer array nums, return the number of reverse pairs in the array.

A reverse pair is a pair (i, j) where 0 <= i < j < nums.length and nums[i] > 2 * nums[j].

Example 1:
```
Input: nums = [1,3,2,3,1]
Output: 2
```
Example 2:
```
Input: nums = [2,4,3,5,1]
Output: 3
```
## 思路：
**借助归并排序，计算其中的个数**

## 答案：

```python
class Solution:
    def reversePairs(self, nums: List[int]) -> int:
        return self.mergeSort(nums, 0, len(nums) - 1)
    
        
     # 递归三要素之一：递归的定义
    def mergeSort(self, nums, start, end):

        #递归三要素之三：递归的出口 #如果start大于等于end,返回
        if start >= end:
            return 0 ##新！！！！！！！
        mid = (start + end) // 2
        #递归的三要素之二：递归的拆解
        ##divide,归并左右
        leftcount = self.mergeSort(nums, start, mid)
        rightcount = self.mergeSort(nums, mid + 1, end)
        ##conquer，合并两边
        return self.merge(nums, start, mid, end) + leftcount + rightcount #新！！！！！！！！！

    def merge(self, nums, start, mid, end):
        ####################
         # 找翻转对的代码 借助归并排序  本题的特殊计算
        res = 0
        left_index = start
        right_index = mid + 1
        while left_index <= mid and right_index <= end:
            if nums[left_index] > 2 * nums[right_index]:
                res += mid - left_index + 1
                right_index += 1
            else:
                left_index += 1
        ####################        
        ##归并的代码
        tmp = [0] * (end - start + 1)
        left_index = start
        right_index = mid + 1
        index = 0
        
        while left_index <= mid and right_index <= end:
            if nums[left_index] <= nums[right_index]:
                tmp[index] = nums[left_index]
                left_index += 1
                index += 1
            else:
                tmp[index] = nums[right_index]
                right_index += 1
                index += 1
        while left_index <= mid:
            tmp[index] = nums[left_index]
            left_index += 1
            index += 1
        while right_index <= end:
            tmp[index] = nums[right_index]
            right_index += 1
            index += 1
        for i in range(index):
            nums[start + i] = tmp[i]
            
        return res

```

![p](https://github.com/SSRRBB/Leetcode/blob/main/Images/36.png)
![p](https://github.com/SSRRBB/Leetcode/blob/main/Images/37.png)
(3, 2)(4,2)用此方找到（3,2）后直接批量处理 mid-left + 1
